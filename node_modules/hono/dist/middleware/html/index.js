"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.html = exports.raw = void 0;
const html_1 = require("../../utils/html");
const raw = (value) => {
    const escapedString = new String(value);
    escapedString.isEscaped = true;
    return escapedString;
};
exports.raw = raw;
const html = (strings, ...values) => {
    let result = '';
    for (let i = 0, len = strings.length - 1; i < len; i++) {
        result += strings[i];
        const children = values[i] instanceof Array ? values[i].flat(Infinity) : [values[i]];
        for (let i = 0, len = children.length; i < len; i++) {
            const child = children[i];
            if (typeof child === 'boolean' || child === null || child === undefined) {
                continue;
            }
            else if (typeof child === 'object' && child.isEscaped) {
                result += child;
            }
            else {
                result += (0, html_1.escape)(child.toString());
            }
        }
    }
    result += strings[strings.length - 1];
    return (0, exports.raw)(result);
};
exports.html = html;
